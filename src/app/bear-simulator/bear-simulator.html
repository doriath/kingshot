<div class="simulator-container">
    <h2>Bear Simulator - Rally Timing Visualization</h2>

    <!-- Input Panel -->
    <div class="input-panel">
        <div class="form-group">
            <label for="player-count">Number of Players (1-10):</label>
            <input 
                id="player-count" 
                type="number" 
                min="1" 
                max="10" 
                [value]="numberOfPlayers()" 
                (input)="onPlayerCountChange($event)">
        </div>
    </div>

    <!-- Player Data Input -->
    <div class="players-grid">
        @for (player of players(); track player.id) {
            <div class="player-row">
                <div class="player-name" [style.color]="player.color">{{ player.name }}</div>
                <div class="form-group">
                    <label [for]="'rst-' + player.id">Rally Start (sec):</label>
                    <input 
                        [id]="'rst-' + player.id" 
                        type="number" 
                        min="0"
                        [value]="player.rst" 
                        (input)="onRstChange(player.id, $event)">
                </div>
                <div class="form-group">
                    <label [for]="'mt-' + player.id">March Time (sec):</label>
                    <input 
                        [id]="'mt-' + player.id" 
                        type="number" 
                        min="1" 
                        max="300" 
                        [value]="player.mt" 
                        (input)="onMtChange(player.id, $event)">
                </div>
                 <div class="validation-message">
                    {{ getValidationMessage(player) }}
                </div>
            </div>
        }
    </div>

    <!-- Visualization Display -->
    <div classs="gantt-chart-container">
      <h3>Rally Timeline (30 Minutes)</h3>
      <div class="canvas-wrapper">
          <canvas #timelineCanvas></canvas>
      </div>
    </div>
</div>
