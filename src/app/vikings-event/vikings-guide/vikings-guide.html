<div class="guide-container">
    <header class="guide-header">
        <a routerLink="/vikings" class="back-link">‚Üê Back to Event</a>
        <h1>Vikings Event Guide</h1>

        <div class="tabs">
            <button [class.active]="activeTab() === 'casual'" (click)="setTab('casual')">Casual Guide</button>
            <button [class.active]="activeTab() === 'advanced'" (click)="setTab('advanced')">Advanced Strategy</button>
        </div>
    </header>

    <div class="content">
        @if (activeTab() === 'casual') {
        <section class="casual-guide">
            <h2>Quick Start for Casual Players</h2>
            <div class="step-card">
                <div class="step-number">1</div>
                <div class="step-text">
                    <h3>Find Your Assignment</h3>
                    <p>Go to the <strong>Vikings Event</strong> page and look for the "Your Characters" section. Expand
                        your character to see who you need to reinforce.</p>
                </div>
            </div>

            <div class="step-card">
                <div class="step-number">2</div>
                <div class="step-text">
                    <h3>Locate & Reinforce Quickly</h3>
                    <p>The fastest way to reinforce is to go to <strong>Alliance</strong> tab in game and click
                        <strong>Power</strong>, which will show all players in the alliance sorted by power. Then after
                        clicking the <strong>Squad Help</strong>, one can immediately send reinforcement to that player.
                        That avoids the need to find a given player on the map, which is relatively hard.
                    </p>
                </div>
            </div>
        </section>
        } @else {
        <section class="advanced-guide">
            <h2>Advanced Strategy & Mechanics</h2>

            <article>
                <h3>The Core Mechanic: Power Matching</h3>
                <p>
                    The Vikings event rewards alliances based on successful defenses against Viking waves.
                    Unlike normal attacks, Viking waves scale based on the <strong>defender's power</strong>.
                </p>
                <p>
                    However, the event has a mechanic where reinforced troops count towards the defense but
                    <strong>do not increase the wave difficulty</strong> significantly if managed correctly.
                </p>
            </article>

            <article>
                <h3>Optimizing Reinforcements</h3>
                <ul>
                    <li><strong>Match Power:</strong> Sending too much power might trigger a harder difficulty bracket
                        for the defender if not calculated. Stick to the assigned Power Level.</li>
                    <li><strong>March Type:</strong> Pay attention to the requested troop type
                        (Infantry/Lancer/Marksman) to maximize buffs.</li>
                    <li><strong>Timing:</strong> Ensure your reinforcements arrive <em>before</em> the Viking wave hits.
                        Recall and re-send if necessary.</li>
                </ul>
            </article>

            <article>
                <h3>Alliance Scoring</h3>
                <p>
                    The alliance score is the sum of individual member scores. Ensuring every member survives as many
                    waves as possible is key.
                    Stronger players should prioritize reinforcing weaker players early on to help them survive the
                    initial waves.
                </p>
            </article>
        </section>
        }
    </div>
</div>