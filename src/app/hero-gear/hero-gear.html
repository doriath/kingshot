<div class="container">
  <h1>Hero Gear Optimizer</h1>

  @for (hero of heroes(); track hero.name) {
    <div class="hero-section">
      <h2>{{ hero.name }}</h2>
      <div class="gear-grid">
        @for (gearType of objectKeys(hero.gear); track gearType) {
          <div class="gear-item">
            <label class="gear-label">{{ gearType }}</label>
            <div class="gear-inputs">
              <label>Mastery:</label>
              <input type="number" [value]="hero.gear[gearType].mastery" (input)="updateMastery(hero.name, gearType, $event)">
              <label>Enhancement:</label>
              <input type="number" [value]="hero.gear[gearType].enhancement" (input)="updateEnhancement(hero.name, gearType, $event)">
            </div>
          </div>
        }
      </div>
    </div>
  }

  <button (click)="optimize()">Optimize</button>

  @if (optimizationResult(); as results) {
    <div class="results-section">
      <h3>Optimization Results</h3>
      @for (result of results; track result.heroName) {
        <div class="hero-results">
          <h4>{{ result.heroName }}</h4>
          <table class="results-table">
            <thead>
              <tr>
                <th>Gear</th>
                <th>Current Mastery</th>
                <th>Recommended Mastery</th>
                <th>Current Enhancement</th>
                <th>Recommended Enhancement</th>
              </tr>
            </thead>
            <tbody>
              @for (gear of result.gear; track gear.type) {
                <tr>
                  <td>{{ gear.type }}</td>
                  <td>{{ gear.currentMastery }}</td>
                  <td>{{ gear.recommendedMastery }}</td>
                  <td>{{ gear.currentEnhancement }}</td>
                  <td>{{ gear.recommendedEnhancement }}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      }
    </div>
  }
</div>
