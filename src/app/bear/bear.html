<div class="container">
  <h1>Bear Damage Calculator</h1>

  <div class="form-grid">
    <div class="form-group">
      <label for="troop-level">Troop Level (1-10)</label>
      <input id="troop-level" type="number" [value]="troopLevel()" (input)="troopLevel.set($event.target.valueAsNumber)" min="1" max="10">
    </div>

    <div class="form-group">
      <label for="tg-level">TG Level (0-5)</label>
      <input id="tg-level" type="number" [value]="tgLevel()" (input)="tgLevel.set($event.target.valueAsNumber)" min="0" max="5">
    </div>

    <div class="form-group">
      <label for="infantry">Infantry</label>
      <input id="infantry" type="number" [value]="infantry()" (input)="infantry.set($event.target.valueAsNumber)">
    </div>

    <div class="form-group">
      <label for="cavalry">Cavalry</label>
      <input id="cavalry" type="number" [value]="cavalry()" (input)="cavalry.set($event.target.valueAsNumber)">
    </div>

    <div class="form-group">
      <label for="archers">Archers</label>
      <input id="archers" type="number" [value]="archers()" (input)="archers.set($event.target.valueAsNumber)">
    </div>

    <div class="form-group">
      <label for="damage-ratio">Damage Ratio (%)</label>
      <input id="damage-ratio" type="number" [value]="damageRatio()" (input)="damageRatio.set($event.target.valueAsNumber)">
    </div>
  </div>

  <button (click)="compute()" class="compute-button">Compute</button>

  @if (computedResult(); as formations) {
    @if (formations.length > 0) {
      <div class="results-grid">
        <div class="formation-card">
          <h2>{{ formations[0].name }}</h2>
          <div class="troop-info">
            <span>Infantry:</span>
            <span>{{ formations[0].infantry }}</span>
          </div>
          <div class="troop-info">
            <span>Cavalry:</span>
            <span>{{ formations[0].cavalry }}</span>
          </div>
          <div class="troop-info">
            <span>Archers:</span>
            <span>{{ formations[0].archers }}</span>
          </div>
          <div class="ratio-info">
            <span>Ratio:</span>
            <span>{{ formations[0].ratio }}</span>
          </div>
        </div>
      </div>
    }
  }
</div>
