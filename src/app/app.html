<header class="app-header">
  <div class="header-container">
    <button class="menu-button" (click)="toggleSideNav()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <a routerLink="/home" class="app-title-link">
      <h1 class="app-title">Kingshot Companion</h1>
    </a>
    <div class="header-actions">
      <!-- <button (click)="testSolver()">Test Solver</button>  -->
      <app-user-profile />
    </div>
  </div>
</header>

@if (isSideNavOpen()) {
<div class="sidenav-overlay" (click)="toggleSideNav()"></div>
}

<aside class="sidenav" [class.open]="isSideNavOpen()">
  <nav>
    <a routerLink="/home" (click)="toggleSideNav()">Home</a>
    <div class="nav-category">Events</div>
    <a routerLink="/events/bear" (click)="toggleSideNav()">Bear Hunt</a>
    <a routerLink="/swordland" (click)="toggleSideNav()">Swordland</a>
    <a routerLink="/mystic-trial" (click)="toggleSideNav()">Mystic Trial</a>
    <a routerLink="/castle-event" (click)="toggleSideNav()">Castle</a>
    <a routerLink="/svs-prep" (click)="toggleSideNav()">SvS Prep</a>
    <div class="nav-category">Tools</div>
    <a routerLink="/tools/bear-optimizer" (click)="toggleSideNav()">Bear Optimizer</a>
    <a routerLink="/tools/hero-gear" (click)="toggleSideNav()">Hero Gear</a>
  </nav>
</aside>

<main class="main-content">
  @if (showRegistrationHint()) {
  <div class="registration-hint">
    ⚠️ <strong>Tip:</strong> <span class="hint-text">Sign in and register a character to see your personal event
      assignments!</span>
  </div>
  }
  <router-outlet />
</main>